http://photos.local

I used the script editor write a JXA script
with a single function: `GURLGURL(url)`.
Seriously.

The function is called when the script opens a URL.
I have written it such that it will open Photos
if the URL starts with `http://photos.local`,
and will open Safari otherwise.

I save it as an app called `photos-opener.app`.

I edit its plist, adding the following sections:

```xml
<key>CFBundleDocumentTypes</key>
<array>
    <dict>
        <key>CFBundleTypeName</key>
        <string>HTML document</string>
        <key>CFBundleTypeRole</key>
        <string>Viewer</string>
        <key>LSItemContentTypes</key>
        <array>
            <string>public.html</string>
        </array>
    </dict>
    <dict>
        <key>CFBundleTypeName</key>
        <string>XHTML document</string>
        <key>CFBundleTypeRole</key>
        <string>Viewer</string>
        <key>LSItemContentTypes</key>
        <array>
            <string>public.xhtml</string>
        </array>
    </dict>
</array>
<key>CFBundleURLTypes</key>
<array>
    <dict>
        <key>CFBundleURLName</key>
        <string>Web site URL</string>
        <key>CFBundleURLSchemes</key>
        <array>
            <string>http</string>
            <string>https</string>
        </array>
    </dict>
</array>
```

I installed in my system by copying it:

```shell
cp -r photos-opener.app ~/.local/share/photos-server
```

Then I registered it with LaunchServices:

```shell
/System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/LaunchServices.framework/Versions/A/Support/lsregister -f "$HOME"/.local/share/photos-server/photos-opener.app
```

> Later, I can unregister it with:
>
> ```shell
> /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/LaunchServices.framework/Versions/A/Support/lsregister -u "$HOME"/.local/share/photos-server/photos-opener.app
> ```

I used a right click to open a webloc with the new app.

I think it was at that point it appeared
on the list of default browsers
in the system settings.

I'm working on automating this now.
